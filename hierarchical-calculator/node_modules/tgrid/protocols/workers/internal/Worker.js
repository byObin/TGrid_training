"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.Worker = void 0;
//================================================================ 
/** @module tgrid.protocols.workers */
//================================================================
var cp = require("child_process");
/**
 * @hidden
 */
var Worker = /** @class */ (function () {
    function Worker(jsFile) {
        this.process_ = cp.fork(jsFile);
    }
    Worker.prototype.terminate = function () {
        this.process_.kill();
    };
    Object.defineProperty(Worker.prototype, "onmessage", {
        set: function (listener) {
            this.process_.on("message", function (message) {
                listener({ data: message });
            });
        },
        enumerable: false,
        configurable: true
    });
    Worker.prototype.postMessage = function (message) {
        this.process_.send(message);
    };
    return Worker;
}());
exports.Worker = Worker;
//# sourceMappingURL=Worker.js.map